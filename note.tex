\documentclass[dvipdfmx]{jsarticle}
\usepackage{amsmath} % alignに必要
\usepackage{tikz} % 画像
\usetikzlibrary{calc} % TikZに計算させる
\begin{document}

\section{Algorithm}

\subsection{$\mathcal{O}$ notation}

与えられた関数$g(n)$に対して、$\mathcal{O}(g(n))$によって関数の集合


\[ \mathcal{O}(g(n)) = \{ f(n): ある正の定数c, n_0が存在して、すべてのn \ge n_0に対して0 \le f(n) \le cg(n)を満たす\} \]


を表現する。

入力が一定数以下はオーバーヘッドがあったりで、ノイズなので入力が一定数以上を表現するために$n_0$を設けている。

\section{整数}

\subsection{ユークリッド互除法}

\subsubsection{証明}

2つの整数a,bが与えられたとき、a,bの最大公約数が知りたい.a,bを以下のように表現したとき、aとbの公約数の集合はaとrの公約数の集合と等しくなる。

\[ b = qa + r \ (0 <= r < a)\]

$d | a \land d | b \equiv d | a \land d | r $を証明する。

戦略として、 $(d | a \land d | b \rightarrow d | a \land d | r) \land (d | a \land d | r \rightarrow  d | a \land d | b) $を証明する。
\\\\
(1) $d | a \land d | b \rightarrow d | a \land d | r$ の証明 \\
仮定より、$\exists q_a, q_b ( a = q_ad, b = q_bd)$

\begin{align*}
  b &= aq + r \\
  q_bd &= (q_ad)q + r \qquad \text{(仮定からaとbを置換)} \\
  r &= q_bd - qq_ad \\
  r &= d(q_b - qq_a)
\end{align*}
ここで、 $q_b, q_a, q$ は整数であり、整数の掛け算、引き算は整数に閉じるので$(q_b - qq_a)$は整数。
  したがって、$\exists n ( r = dn) がいえるので、 d | r$がいえる。よって、
  $d | a \land d | b \rightarrow d | a \land d | r$
\\\\
(2) $d | a \land d | r \rightarrow d | a \land d | b$ の証明 \\
仮定より、$\exists q_a, q_r ( a = q_ad, r = q_rd)$

\begin{align*}
  b &= aq + r \\
  b &= (q_ad) + q_rd \qquad \text{(仮定からaとrを置換)} \\
  b &= d(q_a + q_r)
\end{align*}

(1)と同様に、$q_a, q_r$は整数であり、整数に閉じるので、$(q_a + q_r)$は整数。したがって、 $\exists n ( b = dn)$がいえるので、 $d | b$が成り立つ。よって、 $d | a \land d | r \rightarrow d | a \land d | b$ がいえる。

\subsubsection{帰結}
ある2つの数a,bが与えられた時、aとbの約数はaとrの約数でもある。そしてrはbをaで割ったときの余りなのでaよりも小さい。そのため、問題をより小さい問題に言い換えることができる。またaとrの約数は、$a = d_1r + r_2$ とした場合 $rとr_2$の約数でもある。この操作を繰り返すと、diviser(最初のa)がtarget(最初のb)を割り切る(r=0)ときがきて、そのとき、diviserと0(r)がtargetとdiviserの約数となる。そしてそのときのdiviserを最大公約数と呼ぶ(定義)

\section{統計}

\subsection{条件つき確率}

2つの事象A,Bに対し、Aが起こった状況のもとでBが起こる条件つき確率といい、以下のように表す

\[ P(B|A) = \frac{P(A \cap B) }{P(A)} \]

考え方としては、$P(B|A)$をgivenとして与えられている事象Aの個数と事象AかつBの個数と捉えて以下のように導く

\begin{align*}
  P(B|A) &= \frac{n(A\cap B)}{n(A)} \\
         &= \frac{\frac{n(A\cap B)}{n(U)}}{\frac{n(A)}{n(U)}} \qquad \text{(分子,分母をn(U)で割る)} \\
         &= \frac{P(A \cap B)}{P(A)}
\end{align*}

条件付き確率を以下の形にしたものを乗法定理という。

\[ P(A \cap B) = P(B|A) \cdot P(A) \]

\subsection{ベイズの定理}

\newcommand{\highlight}[3][yellow]{\tikz[baseline=(x.base)]{\node[rectangle,rounded corners,fill=#1!10](x){#2} node[below of=x, color=#1]{#3};}}

\begin{align*}
  P(X \cap Y) &= \frac{n(X \cap Y)}{n(U)} \\
  &= \frac{n(X \cap Y)}{1} \cdot \frac{1}{n(U)} \\
  &= \frac{n(X \cap Y)}{n(X)} \cdot \frac{n(X)}{n(U)} \\
  &= P(Y|X) \cdot P(X) \\
  \text{同様に} \\
  P(X \cap Y) &= \frac{n(X \cap Y)}{n(U)} \\
  &= \frac{n(X \cap Y)}{1} \cdot \frac{1}{n(U)} \\
  &= \frac{n(X \cap Y)}{n(Y)} \cdot \frac{n(Y)}{n(U)} \\
  &= P(X|Y) \cdot P(Y) \\
  \text{従って} \\
  P(Y|X)P(X) &= P(X|Y)P(Y) \\
  \highlight[red]{$\displaystyle P(X|Y)$}{事後確率} &=
    \highlight[red]{$\displaystyle P(X)$}{事前確率}
    \cdot
    \highlight[blue]{$\displaystyle \frac{P(Y|X)}{P(Y)}$}{修正項}
\end{align*}

\end{document}