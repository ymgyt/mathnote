\documentclass[dvipdfmx]{jsarticle}
\usepackage[dvipdfmx]{graphicx}
\usepackage{amsmath} % alignに必要
\usepackage{tikz} % 画像
\usepackage{amssymb} % \mathbb に必要
\usetikzlibrary{calc} % TikZに計算させる
\begin{document}

\section{Algorithm}

\subsection{$\mathcal{O}$ notation}

与えられた関数$g(n)$に対して、$\mathcal{O}(g(n))$によって関数の集合


\[ \mathcal{O}(g(n)) = \{ f(n): ある正の定数c, n_0が存在して、すべてのn \ge n_0に対して0 \le f(n) \le cg(n)を満たす\} \]


を表現する。

入力が一定数以下はオーバーヘッドがあったりで、ノイズなので入力が一定数以上を表現するために$n_0$を設けている。

\section{整数}

\subsection{素数}

\subsubsection{定義}

1以外の自然数で1と自身以外に正の約数をもたない数を素数(prime number)という。

1でも素数でもない数を合成数(composite number)という。

\subsubsection{素数の判定}

$素数 \lor 合成数$ が成り立つので、合成するを判定することで素数の判定もできる。合成数の判定に合成数の以下の性質を利用する。

\[Nが合成数 ならば 1 < a < \sqrt{N} を満たす約数aを1つ以上もつ\]

\[1 < a < \sqrt{N}を満たす約数aが一つも存在しない ならば　Nは合成数でない(対偶) \]

この性質から、ある整数Nにおいて、$[2, \sqrt{N}]$の範囲に約数がなければ、$Nは合成数でない \equiv 素数$ が成り立つ。以下証明

Nは合成数なので、定義から1以外の2つの積に分解できる。小さいほうをaとすると

\begin{align*}
  N &= a \times b \qquad ( 1 < a \leq b, \ \ a, b \in\mathbb{Z}) \\
  N &= a \times b \geq a \times a = a^2 \qquad \text{($1 < a \leq b $)} \\
  N &\geq a^2 \\
  a &\leq \sqrt{N}
\end{align*}

この事実を証明したので、心置きなく、素数判定のfor loopに対象判定Nの平方根を終了条件にできる。

\subsection{ユークリッド互除法}

\subsubsection{証明}

2つの整数a,bが与えられたとき、a,bの最大公約数が知りたい.a,bを以下のように表現したとき、aとbの公約数の集合はaとrの公約数の集合と等しくなる。

\[ b = qa + r \ (0 <= r < a)\]

$d | a \land d | b \equiv d | a \land d | r $を証明する。

戦略として、 $(d | a \land d | b \rightarrow d | a \land d | r) \land (d | a \land d | r \rightarrow  d | a \land d | b) $を証明する。
\\\\
(1) $d | a \land d | b \rightarrow d | a \land d | r$ の証明 \\
仮定より、$\exists q_a, q_b ( a = q_ad, b = q_bd)$

\begin{align*}
  b &= aq + r \\
  q_bd &= (q_ad)q + r \qquad \text{(仮定からaとbを置換)} \\
  r &= q_bd - qq_ad \\
  r &= d(q_b - qq_a)
\end{align*}
ここで、 $q_b, q_a, q$ は整数であり、整数の掛け算、引き算は整数に閉じるので$(q_b - qq_a)$は整数。
  したがって、$\exists n ( r = dn) がいえるので、 d | r$がいえる。よって、
  $d | a \land d | b \rightarrow d | a \land d | r$
\\\\
(2) $d | a \land d | r \rightarrow d | a \land d | b$ の証明 \\
仮定より、$\exists q_a, q_r ( a = q_ad, r = q_rd)$

\begin{align*}
  b &= aq + r \\
  b &= (q_ad) + q_rd \qquad \text{(仮定からaとrを置換)} \\
  b &= d(q_a + q_r)
\end{align*}

(1)と同様に、$q_a, q_r$は整数であり、整数に閉じるので、$(q_a + q_r)$は整数。したがって、 $\exists n ( b = dn)$がいえるので、 $d | b$が成り立つ。よって、 $d | a \land d | r \rightarrow d | a \land d | b$ がいえる。

\subsubsection{帰結}
ある2つの数a,bが与えられた時、aとbの約数はaとrの約数でもある。そしてrはbをaで割ったときの余りなのでaよりも小さい。そのため、問題をより小さい問題に言い換えることができる。またaとrの約数は、$a = d_1r + r_2$ とした場合 $rとr_2$の約数でもある。この操作を繰り返すと、diviser(最初のa)がtarget(最初のb)を割り切る(r=0)ときがきて、そのとき、diviserと0(r)がtargetとdiviserの約数となる。そしてそのときのdiviserを最大公約数と呼ぶ(定義)

\subsection{倍数の判定}

3桁の数Nは 100a + 10b + c とあらわせる。

$ N = 2(50a + 5b) + c$ とあらわせるので、Nが2の倍数になるかどうかは最後の桁が2の倍数かどうかによる。

$ N = 100a + 10b + c = 99a + a + 9b + b + c = 3(33a + 3b) + a + b + c$ なので、各桁の数の合計が3の倍数になるかでNが3の倍数かどうか判定できる

\section{統計}

\subsection{条件つき確率}

2つの事象A,Bに対し、Aが起こった状況のもとでBが起こる条件つき確率といい、以下のように表す

\[ P(B|A) = \frac{P(A \cap B) }{P(A)} \]

考え方としては、$P(B|A)$をgivenとして与えられている事象Aの個数と事象AかつBの個数と捉えて以下のように導く

\begin{align*}
  P(B|A) &= \frac{n(A\cap B)}{n(A)} \\
         &= \frac{\frac{n(A\cap B)}{n(U)}}{\frac{n(A)}{n(U)}} \qquad \text{(分子,分母をn(U)で割る)} \\
         &= \frac{P(A \cap B)}{P(A)}
\end{align*}

条件付き確率を以下の形にしたものを乗法定理という。

\[ P(A \cap B) = P(B|A) \cdot P(A) \]

\subsection{ベイズの定理}

\newcommand{\highlight}[3][yellow]{\tikz[baseline=(x.base)]{\node[rectangle,rounded corners,fill=#1!10](x){#2} node[below of=x, color=#1]{#3};}}

\begin{align*}
  P(X \cap Y) &= \frac{n(X \cap Y)}{n(U)} \\
  &= \frac{n(X \cap Y)}{1} \cdot \frac{1}{n(U)} \\
  &= \frac{n(X \cap Y)}{n(X)} \cdot \frac{n(X)}{n(U)} \\
  &= P(Y|X) \cdot P(X) \\
  \text{同様に} \\
  P(X \cap Y) &= \frac{n(X \cap Y)}{n(U)} \\
  &= \frac{n(X \cap Y)}{1} \cdot \frac{1}{n(U)} \\
  &= \frac{n(X \cap Y)}{n(Y)} \cdot \frac{n(Y)}{n(U)} \\
  &= P(X|Y) \cdot P(Y) \\
  \text{従って} \\
  P(Y|X)P(X) &= P(X|Y)P(Y) \\
  \highlight[red]{$\displaystyle P(X|Y)$}{事後確率} &=
    \highlight[red]{$\displaystyle P(X)$}{事前確率}
    \cdot
    \highlight[blue]{$\displaystyle \frac{P(Y|X)}{P(Y)}$}{修正項}
\end{align*}

\section{Burn Mathclass}

\subsection{分数}
$\frac{1}{n}$ はnをかけると1になる数として定義する。これでうっかり騙されて割り算というものを使わされることを防げる。だから、$\frac{15}{72}は(15)(\frac{1}{72})$の略号でしかない。

$\frac{ac}{bc} = \frac{a}{b}$ という分母と分子の共通の因子を約分できるというのは以下の操作から導ける.

\[ \frac{ac}{bc} = (a)(c)(\frac{1}{b})(\frac{1}{c}) = (a)(c)(\frac{1}{c})(\frac{1}{b}) = (a)(\frac{1}{b}) = \frac{a}{b} \]

$\frac{a + b}{c} = \frac{a}{c} + \frac{b}{c}$ は以下のように説明する。


\[ \frac{a + b}{c} = (a + b)(\frac{1}{c}) = (a)(\frac{1}{c}) + (b)(\frac{1}{c}) = \frac{a}{c} + \frac{b}{c} \]

\subsection{面積を発明する}

長方形の"面積"がなんであろうと、それは長方形の横と縦の長さに左右される(無関係な"面積"を定義したければしてもよいが)。 この内容を略号を使って表すと

\[A(l,w) =\ ?\]

今、ある長方形の縦の長さをかえないで、横の長さを2倍すると、元の長方形が2つできるので面積は2倍になるはずと考える。また、横をそのままに縦を2倍しても面積は2倍になるはずなので、略号を使って表すと

\begin{align*}
  A(l,2w) &= 2A(l,w) \\
  A(2l,w) &= 2A(l,w)
\end{align*}

そして、この文の2には特別な意味はなかったので、一般化すると

\begin{align*}
  A(l,\#w) &= \#A(l,w) \\
  A(\#l,w) &= \#A(l,w)
\end{align*}

どんな数であろうとその数を装置の外にだせることがわかる。ここで、 $l = l \cdot 1$ とあらわせるので

\[A(l,w) = lA(1,w) = lwA(1,1) \]

この文は、は、長方形の面積は、縦かける横かける単位であることを表現している。

\[ \frac{A(l,w)}{A(1,1)} = lw \]

こう書き直すと、縦かける横の値は、$A(l,w)の中にA(1,1)$がいくついれられるかを表す比の表現とみることもできる。

\subsection{傾きを定義してみよう}

山を登る険しさ(傾き)は、垂直方向の移動距離だけ、あるいは水平方向の移動距離だけでは決まらない。これを傾き(S), 水平(h, horizontal), 垂直(v, vertical)で表すと

\[ S(h,v) = \ ? \]

直線では、どの2点間をとっても傾きは同じであってほしい。これを表すと

\[ S(h,v) = S(2h, 2v) \]

そして、抽象化すると

\[ S(h,v) = S(\#h, \#v) \]

傾きが何を意味するにしても、水平な線の傾きはゼロであったほうが直感に合致するので$S(h,v) = \frac{h}{v}$ は除外される。今のところの候補は

\[ S(h,v) = \frac{v}{h} \]

次に、水平距離を一定にして、垂直距離を\#倍にしたとき傾きも\#倍になってほしいので、以下の性質が必要

\[ S(h,\#v) = \#S(h,v) \]

仮に、垂直距離を2倍にしたときは(ここでは$S = (\frac{h}{v})^\#$ )の可能性を考慮にいれている)

\[ S(h,2v) = (\frac{2v}{h})^\#  = 2^\#(\frac{v}{h})^\# = 2^\#S(h,v) \]

日常の理解を成り立たせるにはこの結果が2になってほしいので\#は1になる。ここでも$\frac{v}{h}$ が生き残る


\begin{figure}
  \centering
  \includegraphics[width=10cm]{images/burn_math_1-8.png}
  \label{fig:1-8}
  \caption{captionだよ}
\end{figure}

\subsection{直線を表現してみよう}

直線がある装置$M(x)$で表されているとする。どんな数$x, \tilde{x}$に対しても、以下がなりたつはず

\[ \frac{(1点の垂直位置) - (もう1点の垂直位置)}{(1点の水平位置) - (もう1点の水平位置)} \equiv \frac{垂直距離}{水平距離} \equiv \frac{M(x) - M(\tilde{x})}{x - \tilde{x}}  = \# \]

つまりどの2点間をえらんでも、傾きは一定(\#)となる。 そして、(たまたま) $\tilde{x}$が0の場合

\begin{align*}
  \frac{M(x) - M(0)}{x} = \# \\
  M(x) = \#x + M(0)
\end{align*}

M(0)は一部でy切片とよばれ、\#とM(0)を別の略号に書き直すと

\[ M(x) = ax + b \]

となり、おなじみの直線の文になった。

\subsection{近道の公式}

\begin{figure}
  \centering
  \includegraphics[width=10cm]{images/burn_math_1-11.png}
\end{figure}

\begin{align*}
  c^2 + 2ab &= a^2 + 2ab + b^2 \\
  c^2 &= a^2 + b^2
\end{align*}

\section{微分}

まがったグラフの傾きをどのように表現するか。まがっているものは扱えないので、ある1点を無限に拡大してそこに直線をみいだすというアプローチを採用する。そうすると点xでの傾きは

\[ xにおけるMの傾向 \equiv \frac{極小垂直変位}{極小水平変位} \equiv \frac{垂直距離}{水平距離} \equiv \frac{M(x+極小) - M(x)}{(x + 極小) -x } \]

\begin{figure}
  \centering
  \includegraphics[width=10cm]{images/burn_math_2-1.png}
\end{figure}

\end{document}